(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,i=1;i<s.length;i++){var o=s[i];0!==r[o]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=s[0]))}return t}var n={},i={app:0},r={app:0},a=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"58f05232"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={about:1};i[t]?e.push(i[t]):0!==i[t]&&s[t]&&e.push(i[t]=new Promise((function(e,s){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"bc41b317"}[t]+".css",r=c.p+n,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var l=a[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===n||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete i[t],f.parentNode.removeChild(f),s(a)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){i[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,s){n=r[t]=[e,s]}));e.push(n[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var s=r[t];if(0!==s){if(s){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,s[1](d)}r[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(s,n,function(e){return t[e]}.bind(null,n));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/PostsVue/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"menu"},[s("div",{staticClass:"menu__content"},[s("router-link",{staticClass:"menu__content-item",attrs:{to:"/"}},[t._v("Главная")]),s("div",{staticClass:"submenu"},[s("router-link",{staticClass:"menu__content-item",attrs:{to:"/history"}},[t._v("История")]),s("ul",{staticClass:"submenu__list"},[s("li",[s("router-link",{staticClass:"menu__content-item",attrs:{to:{name:"History",query:{actions:"added"}}}},[t._v(" История добавлений ")])],1),s("li",[s("router-link",{staticClass:"menu__content-item",attrs:{to:{name:"History",query:{actions:"removed"}}}},[t._v(" История удалений ")])],1)])],1)],1)]),s("div",{staticClass:"container"},[s("router-view")],1)])},r=[],a=(s("5c0b"),s("2877")),o={},c=Object(a["a"])(o,i,r,!1,null,null,null),l=c.exports,u=(s("d3b7"),s("3ca3"),s("ddb0"),s("8c4f")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Home")]),s("div",{staticClass:"inline-container"},[s("div",{staticClass:"inline-container__left-side"},[s("PostsList")],1),s("div",{staticClass:"inline-container__right-side"},[s("FavoritesPosts")],1)])])},f=[],p=s("1da1"),v=s("5530"),m=(s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("div",{staticClass:"list__header"},[t._m(0),s("div",{staticClass:"list__header-filter"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleFilter,expression:"titleFilter"}],attrs:{type:"text",placeholder:"Enter title"},domProps:{value:t.titleFilter},on:{input:function(e){e.target.composing||(t.titleFilter=e.target.value)}}})])]),t.posts.length>0&&t.filteredPosts.length>0?s("ul",t._l(t.titleFilter?t.filteredPosts:t.posts,(function(e,n){return s("li",{key:e.id||n,staticClass:"list__item"},[s("div",{staticClass:"list__left-side"},[s("span",{staticClass:"list__item list__item-id"},[t._v(t._s(e.id))])]),s("div",{staticClass:"list__right-side"},[s("div",{staticClass:"list__item list__item-title"},[s("span",{staticClass:"list__item-text"},[t._v(t._s(e.title))]),s("div",{staticClass:"list__item-action",on:{click:function(s){return t.favotiteAddHandler(e)}}},[s("span",{staticClass:"btn"},[t._v("+")])])]),s("div",{staticClass:"list__item list__item-body"},[s("span",[t._v(t._s(e.body))])])])])})),0):s("div",{staticClass:"no-data"},[s("span",{staticClass:"no-data__text"},[t._v(" List is empty ")])])])}),_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"list__header-title"},[s("h2",[t._v("Posts")])])}],h=(s("4de4"),s("c975"),s("4e82"),s("466d"),s("ac1f"),s("4d63"),s("25f0"),s("2f62")),b={name:"PostsList",computed:Object(v["a"])(Object(v["a"])({},Object(h["c"])(["posts"])),{},{filteredPosts:function(){var t=this,e=this.posts.filter((function(e){return e.title.indexOf(t.titleFilter)>=0})),s=e.sort(this.sortPosts);return s}}),methods:Object(v["a"])(Object(v["a"])({},Object(h["b"])(["favotiteAddHandler"])),{},{sortPosts:function(t,e){return(t.title.match(new RegExp(this.titleFilter,"g"))||[]).length-(e.title.match(new RegExp(this.titleFilter,"g"))||[]).length}}),data:function(){return{titleFilter:""}}},g=b,y=Object(a["a"])(g,m,_,!1,null,"0ffae168",null),C=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[t._m(0),t.favorites.length>0?s("ul",t._l(t.favorites,(function(e,n){return s("li",{key:e.id||n,staticClass:"list__item"},[s("div",{staticClass:"list__left-side"},[s("span",{staticClass:"list__item list__item-id"},[t._v(t._s(e.id))])]),s("div",{staticClass:"list__right-side"},[s("div",{staticClass:"list__item list__item-title"},[s("span",{staticClass:"list__item-text"},[t._v(t._s(e.title))]),s("div",{staticClass:"list__item-action",on:{click:function(s){return t.favotiteRemoveHandler(e)}}},[s("span",{staticClass:"btn"},[t._v("-")])])]),s("div",{staticClass:"list__item list__item-body"},[s("span",[t._v(t._s(e.body))])])])])})),0):s("div",{staticClass:"no-data"},[s("span",{staticClass:"no-data__text"},[t._v(" List is empty ")])])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list__header"},[s("span",{staticClass:"list__header-title"},[s("h2",[t._v("Favorite posts")])])])}],O={name:"FavoritesPosts",computed:Object(v["a"])({},Object(h["c"])(["favorites"])),methods:Object(v["a"])({},Object(h["b"])(["favotiteRemoveHandler"]))},P=O,x=Object(a["a"])(P,w,j,!1,null,"2884d328",null),E=x.exports,k={name:"Home",components:{PostsList:C,FavoritesPosts:E},methods:Object(v["a"])({},Object(h["b"])(["fetchPosts"])),mounted:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchPosts();case 2:case"end":return e.stop()}}),e)})))()}},F=k,A=Object(a["a"])(F,d,f,!1,null,null,null),H=A.exports;n["a"].use(u["a"]);var L=[{path:"/",name:"Home",component:H},{path:"/history",name:"History",component:function(){return s.e("about").then(s.bind(null,"e4bb"))}}],S=new u["a"]({routes:L}),R=S,T=s("2909"),$=(s("99af"),{state:{posts:[],favorites:[]},mutations:{setPosts:function(t,e){t.posts=e},newFavorite:function(t,e){t.posts=Object(T["a"])(t.posts.filter((function(t){return t.id!==e.id}))),t.favorites=[].concat(Object(T["a"])(t.favorites),[e])},removeFavorite:function(t,e){t.favorites=Object(T["a"])(t.favorites.filter((function(t){return t.id!==e.id}))),t.posts=[].concat(Object(T["a"])(t.posts),[e]).sort((function(t,e){return t.id-e.id}))}},actions:{fetchPosts:function(t){return Object(p["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.next=3,fetch("https://jsonplaceholder.typicode.com/posts");case 3:return e.next=5,e.sent.json();case 5:n=e.sent,s("setPosts",n);case 7:case"end":return e.stop()}}),e)})))()},favotiteAddHandler:function(t){var e=t.commit,s=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n.id)throw new Error("Incorrect data");s("actions/newAction",{post:n,type:"added"},{root:!0}),e("newFavorite",n)},favotiteRemoveHandler:function(t){var e=t.commit,s=t.dispatch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n.id)throw new Error("Incorrect data");s("actions/newAction",{post:n,type:"removed"},{root:!0}),e("removeFavorite",n)}},getters:{posts:function(t){return t.posts},favorites:function(t){return t.favorites}}}),N=(s("0d03"),{namespaced:!0,state:{actions:[]},mutations:{setAction:function(t,e){t.actions=[e].concat(Object(T["a"])(t.actions))}},actions:{newAction:function(t,e){var s=t.commit,n={post_id:e.post.id,post_title:e.post.title,type:e.type,updated_at:(new Date).toLocaleString()};s("setAction",n)}},getters:{actions:function(t){return t.actions}}});n["a"].use(h["a"]);var q=new h["a"].Store({modules:{posts:$,actions:N}});s("73ec");n["a"].config.productionTip=!1,new n["a"]({router:R,store:q,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"73ec":function(t,e,s){},"9c0c":function(t,e,s){}});
//# sourceMappingURL=app.42b5a81d.js.map